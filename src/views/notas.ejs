<!DOCTYPE html>
<html lang="es">
  <head>
    <%- include('partials/head.ejs') %>
    <title>Notas</title>
    <link rel="stylesheet" href="./css/notas.css" />
  </head>
  <body>
    <%- include('partials/header.ejs') %> <%- include('partials/sidebar.ejs') %>

    <main class="content-container">
      <table>
        <tbody>
          <tr>
            <td colspan="12">COLEGIO PROVINCIAL DR. ERNESTO GUEVARA</td>
          </tr>
          <tr>
            <td colspan="2">Apellido y nombre:</td>
            <td colspan="2"><%= usuario.nombre %> <%= usuario.apellido %></td>
            <td colspan="2">Curso:</td>
            <td colspan="2"><%= usuario.curso.nombre_curso %></td>
            <td colspan="2">Año:</td>
            <td colspan="2">2024</td>
          </tr>
          <!-- Ciclo de materias -->
          <tr>
            <td colspan="2">Ciclo Superior de la ESO</td>
            <% usuario.curso.materias.forEach((materia) => { %>
            <td><%= materia.nombre_materia %></td>
            <% }) %>
          </tr>

          <!-- Primer cuatrimestre -->
          <tr>
            <td rowspan="3">Primer cuatrimestre</td>
            <td>1° informe</td>
            <% usuario.curso.materias.forEach((materia) => { %>
            <td>
              <%= materia.notas.find(n => n.cuatrimestre === 1 && n.informe ===
              1)?.nota || '-' %>
            </td>
            <% }) %>
          </tr>
          <tr>
            <td>2° informe</td>
            <% usuario.curso.materias.forEach((materia) => { %>
            <td>
              <%= materia.notas.find(n => n.cuatrimestre === 1 && n.informe ===
              2)?.nota || '-' %>
            </td>
            <% }) %>
          </tr>
          <tr>
            <td>NOTA</td>
            <% usuario.curso.materias.forEach((materia) => { %>
            <td>
              <%= materia.notas.find(n => n.cuatrimestre === 1 && n.informe ===
              3)?.nota || '-' %>
            </td>
            <% }) %>
          </tr>

          <!-- Segundo cuatrimestre -->
          <tr>
            <td rowspan="3">Segundo cuatrimestre</td>
            <td>1° informe</td>
            <% usuario.curso.materias.forEach((materia) => { %>
            <td>
              <%= materia.notas.find(n => n.cuatrimestre === 2 && n.informe ===
              1)?.nota || '-' %>
            </td>
            <% }) %>
          </tr>
          <tr>
            <td>2° informe</td>
            <% usuario.curso.materias.forEach((materia) => { %>
            <td>
              <%= materia.notas.find(n => n.cuatrimestre === 2 && n.informe ===
              2)?.nota || '-' %>
            </td>
            <% }) %>
          </tr>
          <tr>
            <td>NOTA</td>
            <% usuario.curso.materias.forEach((materia) => { %>
            <td>
              <%= materia.notas.find(n => n.cuatrimestre === 2 && n.informe ===
              3)?.nota || '-' %>
            </td>
            <% }) %>
          </tr>
        </tbody>
      </table>
    </main>
    <%- include('partials/footer.ejs') %>
  </body>
</html>
